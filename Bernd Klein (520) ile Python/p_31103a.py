# coding:iso-8859-9 Türkçe
# p_31103a.py: Zaman-ýsý np.dtye tesadüfi kayýtlarýný tofile ve fromfile ile dosyaya yazma ve okuma örneði.

import numpy as np
from random import randint, random

dosya1 = open ("p_31103ax.txt", "bw")

dtip = np.dtype ([
    ('zaman', [("saat", int), ('dakika', int), ('saniye', int)]),
    ('ýsý', float) ])
x = np.zeros ((1,), dtype=dtip)

try: kaç = abs (int (input ("Kaç zaman ve ýsý kaydý girilecek [50]? ")))
except: kaç = 50

for _ in range (kaç):
    x['zaman']['saat'] = randint (0, 23)
    x['zaman']['dakika'] = randint (0, 59)
    x['zaman']['saniye'] = randint (0, 59)
    x['ýsý'] = int (random() * 15000) / 100 - 50
    x.tofile (dosya1)
dosya1.close()
#---------------------------------------------------------------------------------------------------

print()
dosya2 = open ("p_31103ax.txt", "rb")
y = np.fromfile (dosya2, dtype=dtip)
dosya2.close()

print (y)



"""Çýktý:
>python p_31103.py
Kaç zaman ve ýsý kaydý girilecek [50]? 1

[((15, 36, 40), -35.53)]

>python p_31103.py  ** TEKRAR **
Kaç zaman ve ýsý kaydý girilecek [50]?

[(( 3, 27, 16), -14.84) ((12, 56, 59), -30.92) (( 0,  2, 52),  29.2 )
 ((23, 19, 21),  13.46) (( 8, 46,  2),  58.48) ((23, 36, 49),   6.65)
 ((12, 39, 10),   1.81) ((11, 50, 59),  -2.88) (( 6,  6, 35),  -7.44)
 ((11, 24,  4),  48.22) (( 3, 14, 22),  15.39) (( 8, 43, 50),  94.41)
 ((17, 19, 21),  43.18) ((22, 46, 36),  55.34) ((19, 31,  9),  98.37)
 ((20, 29, 24),  87.81) ((10, 13, 38),  38.28) ((17, 23,  8),  71.47)
 (( 9,  0, 48),  43.71) ((14, 29, 24),  43.63) ((14, 20, 30),  59.76)
 ((11, 19, 23),  82.03) ((15, 15,  0),  -8.27) ((20, 52,  7),  -5.84)
 ((11, 48, 40), -37.92) ((22, 29,  8), -45.7 ) (( 4, 24, 35),  17.62)
 ((10, 55, 16),  38.35) (( 8, 43, 59),  88.43) ((18,  1, 35),  25.54)
 ((10,  6, 46),  17.74) (( 8, 52, 10),   9.27) (( 5, 10,  0), -20.96)
 ((17, 43,  8),  93.91) ((21, 49,  3), -20.54) ((18, 40, 43), -43.68)
 (( 5, 22,  7),  38.61) ((18, 36,  5),  47.05) (( 3, 39, 47),  -6.21)
 (( 8, 10, 16),  98.75) ((22, 37, 14),  99.79) ((18, 13, 39),  99.37)
 ((15, 52, 28), -10.78) (( 7, 25,  9),  -9.15) ((10, 29,  3), -25.58)
 ((23, 30, 16), -23.59) (( 2, 26,  5), -40.74) ((11, 59, 38), -29.55)
 ((16, 39,  9), -46.97) ((16, 48,  3),  32.33)]
"""